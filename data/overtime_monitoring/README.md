# Overtime.ag Monitoring Data

This directory stores data generated by the overtime.ag timing monitor.

## Contents

| File/Directory | Description |
|----------------|-------------|
| `overtime_odds.db` | SQLite database with API snapshots, game tracking, timestamp fields |
| `responses_*.json` | Raw API response captures (optional, for debugging) |
| `screenshot_*.png` | Browser screenshots (for debugging navigation issues) |

## Usage

The monitoring scripts are in the main package. Run with:

```bash
# Start monitoring (24 hours, every 30 minutes)
uv run python scripts/scrapers/monitor_overtime_timing.py

# Custom duration
uv run python scripts/scrapers/monitor_overtime_timing.py -i 15 -d 48

# Analyze collected data
uv run python scripts/scrapers/monitor_overtime_timing.py --analyze

# Quick summary
uv run python scripts/scrapers/monitor_overtime_timing.py --summary
```

Or use the module directly:

```bash
# From package
uv run python -m kenp0m_sp0rts_analyzer.overtime_scraper --monitor

# Analysis only
uv run python -m kenp0m_sp0rts_analyzer.overtime_timing
```

## Database Schema

```sql
-- API response snapshots
api_snapshots (
    id, captured_at, endpoint, response_size, game_count, raw_json
)

-- Game tracking (when games first appear)
game_tracking (
    game_id, first_seen_at, game_time, home_team, away_team,
    board_type, json_timestamps, raw_game_json
)

-- Discovered timestamp fields
timestamp_fields (
    field_path, sample_value, first_seen_at, occurrence_count
)
```

## Clearing Data

To reset and start fresh:

```bash
rm data/overtime_monitoring/overtime_odds.db
rm -f data/overtime_monitoring/responses_*.json
rm -f data/overtime_monitoring/screenshot_*.png
```

## Integration

After collecting enough data (24-48 hours), analyze patterns:

```python
from kenp0m_sp0rts_analyzer.overtime_timing import TimingAnalyzer

analyzer = TimingAnalyzer()
report = analyzer.generate_report()
print(report)

# Get specific insights
best_field = analyzer.get_best_opening_field()
lead_stats = analyzer.get_lead_time_stats()
```
